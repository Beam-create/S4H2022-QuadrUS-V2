<?xml version="1.0"?>
<!--Base of RufUS robot-->
<robot name="rufus" xmlns:xacro="http://ros.org/wiki/xacro">
    
    <xacro:property name="PI" value="3.1415926535897931"/>

    <!--Constants for robot dimensions-->
    <xacro:property name="base_length" value="0.330"    />
    <xacro:property name="base_width" value="0.290"     />
    <xacro:property name="base_height" value="0.057"    />
    <xacro:property name="wheel_dia" value="0.080"      />
    <xacro:property name="wheel_width" value="0.055"    />

    <!--Frame link-->
    <link name="frame_link">
        
        <visual>
            <origin xyz="0.0 0.0 0.0285" rpy="0.0 0.0 0.0" />
            <geometry>
                <mesh filename="package://base_description/mesh/Base_CAD.dae" scale="0.1"/>
            </geometry>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 0.0285" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="0.290 0.330 0.057"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.0 0.0 0.0285" rpy="0.0 0.0 0.0"/>
            <!--TO ADJUST-->
            <mass value="1.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>

    </link>

    <gazebo reference="frame_link">
        <gravity>true</gravity>
    </gazebo>

    <!--Wheels joints-->
    <joint name="joint_FR" type="revolute">
        <origin xyz="0.090 0.1075 0.0285" rpy="0.0 0.0 0.0"/>
        <parent link="frame_link"/>
        <child link="wheel_FR"/>
        <axis xyz="1 0 0"/>
        <!--effort in NM, velocity in rad/sec-->
        <limit effort="2" velocity="20.5"/> 
    </joint>

    <joint name="joint_FL" type="revolute">
        <origin xyz="-0.090 0.1075 0.0285" rpy="0.0 0.0 0.0"/>
        <parent link="frame_link"/>
        <child link="wheel_FL"/>
        <axis xyz="1 0 0"/>
        <!--effort in NM, velocity in rad/sec-->
        <limit effort="2" velocity="20.5"/> 
    </joint>

    <joint name="joint_RR" type="revolute">
        <origin xyz="0.090 -0.1075 0.0285" rpy="0.0 0.0 0.0"/>
        <parent link="frame_link"/>
        <child link="wheel_RR"/>
        <axis xyz="1 0 0"/>
        <!--effort in NM, velocity in rad/sec-->
        <limit effort="2" velocity="20.5"/> 
    </joint>

    <joint name="joint_RL" type="revolute">
        <origin xyz="-0.090 -0.1075 0.0285" rpy="0.0 0.0 0.0"/>
        <parent link="frame_link"/>
        <child link="wheel_RL"/>
        <axis xyz="1 0 0"/>
        <!--effort in NM, velocity in rad/sec-->
        <limit effort="2" velocity="20.5"/> 
    </joint>

    <!--Wheels links-->
    <link name="wheel_FR">
        
        <visual>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://base_description/mesh/Wheel_CAD.dae" />
            </geometry>
        </visual>

        <collision>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.040" length="0.0275"/>
            </geometry>
        </collision>

        <inertial>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>

    </link>
    
    <gazebo reference="wheel_FR">
        <gravity>true</gravity>
    </gazebo>

    <link name="wheel_FL">
        
        <visual>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://base_description/mesh/Wheel_CAD.dae" />
            </geometry>
        </visual>

        <collision>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.040" length="0.0275"/>
            </geometry>
        </collision>

        <inertial>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>

    </link>

    <gazebo reference="wheel_FL">
        <gravity>true</gravity>
    </gazebo>

    <link name="wheel_RR">
        
        <visual>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://base_description/mesh/Wheel_CAD.dae" />
            </geometry>
        </visual>

        <collision>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.040" length="0.0275"/>
            </geometry>
        </collision>

        <inertial>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>

    </link>

    <gazebo reference="wheel_RR">
        <gravity>true</gravity>
    </gazebo>

    <link name="wheel_RL">
        
        <visual>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://base_description/mesh/Wheel_CAD.dae" />
            </geometry>
        </visual>

        <collision>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.040" length="0.0275"/>
            </geometry>
        </collision>

        <inertial>
            <!--TO ADJUST-->
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
            <mass value="0.0"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
        </inertial>

    </link>

    <gazebo reference="wheel_RL">
        <gravity>true</gravity>
    </gazebo>

</robot>